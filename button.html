<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buka Aplikasi Favorit Anda</title>
    <!-- Tailwind CSS for modern, responsive styling. Replaced Bootstrap for consistency. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <style>
        /* Custom styles for app buttons, embracing Tailwind's utility-first approach */
        body {
            font-family: 'Inter', sans-serif; /* Using Inter as specified */
            @apply bg-gray-100 flex justify-center items-center min-h-screen p-4;
        }

        /* Base button styles, mostly handled by Tailwind classes now */
        .btn-app {
            @apply text-white font-semibold py-3 px-6 text-xl rounded-full transition-all duration-300 ease-in-out flex items-center justify-center space-x-3 shadow-md;
        }
        .btn-app:hover {
            @apply transform -translate-y-0.5 shadow-lg;
        }
        .btn-app:active {
            @apply transform translate-y-0 shadow-sm;
        }

        /* Specific app button colors using Tailwind's custom color approach if needed,
           but mostly defined inline for simplicity or directly via classes. */
        .btn-gojek {
            background-color: #00AA45;
        }
        .btn-gojek:hover {
            background-color: #008C3A;
        }

        .btn-dana {
            background-color: #108EE9;
        }
        .btn-dana:hover {
            background-color: #0d73b9;
        }

        .btn-ovo {
            background-color: #4D2A86;
        }
        .btn-ovo:hover {
            background-color: #3b2066;
        }

        .btn-mandiri {
            background-color: #003D79;
        }
        .btn-mandiri:hover {
            background-color: #002c57;
        }

        .btn-shopee {
            background-color: #EE4D2D;
        }
        .btn-shopee:hover {
            background-color: #d44124;
        }
    </style>
</head>
<body>
    <div class="bg-white shadow-xl rounded-2xl p-6 md:p-8 text-center mx-auto max-w-sm w-full">
        <h1 class="text-3xl font-bold text-gray-800 mb-4">Buka Aplikasi Favorit Anda</h1>
        <p class="text-gray-600 mb-6">Klik tombol di bawah untuk langsung membuka aplikasi di perangkat Anda.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <!-- Gojek Button -->
            <button id="openGojekBtn" class="btn-app btn-gojek">
                <i class="fas fa-car"></i> <span>Buka Gojek</span>
            </button>
            <!-- DANA Button -->
            <button id="openDanaBtn" class="btn-app btn-dana">
                <i class="fas fa-wallet"></i> <span>Buka DANA</span>
            </button>
            <!-- OVO Button -->
            <button id="openOvoBtn" class="btn-app btn-ovo">
                <i class="fas fa-money-bill-wave"></i> <span>Buka OVO</span>
            </button>
            <!-- Mandiri Button -->
            <button id="openMandiriBtn" class="btn-app btn-mandiri">
                <i class="fas fa-bank"></i> <span>Buka Livin'</span>
            </button>
            <!-- Shopee Button -->
            <div class="col-span-1 md:col-span-2">
                <button id="openShopeeBtn" class="btn-app btn-shopee w-full">
                    <i class="fas fa-shopping-bag"></i> <span>Buka Shopee</span>
                </button>
            </div>
        </div>

        <div class="instructions text-left text-gray-500 text-sm">
            <p class="font-bold text-gray-700 mb-2">Jika aplikasi tidak terbuka:</p>
            <ul class="list-none space-y-2">
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <span>Pastikan Anda sudah menginstal aplikasi yang sesuai.</span>
                </li>
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <span>Jika menggunakan iPhone, coba buka halaman ini di browser Safari.</span>
                </li>
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <span>Jika menggunakan Android, pastikan izin 'Buka tautan yang didukung' diaktifkan di pengaturan aplikasi.</span>
                </li>
            </ul>
        </div>
    </div>

    <script>
        // Function to attempt opening an app via URI scheme with a fallback URL
        function openApp(appUri, fallbackUrl) {
            // Attempt to open the app using the URI scheme
            window.location.href = appUri;

            // Set a timeout to redirect to the fallback URL if the app doesn't open
            // This relies on `document.hidden` changing, which indicates the browser
            // window lost focus, likely due to an app opening.
            const timeout = setTimeout(() => {
                // Check if the document is still visible (meaning the app likely didn't open)
                if (!document.hidden) {
                    window.location.href = fallbackUrl;
                }
            }, 1000); // Shorter timeout for quicker fallback

            // Clear the timeout if the document becomes hidden (app successfully opened)
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    clearTimeout(timeout);
                }
            }, { once: true }); // Listener only fires once
        }

        // Event listeners for each button to call openApp with respective URIs and fallbacks
        document.getElementById('openGojekBtn').addEventListener('click', function() {
            openApp('gojek://', 'https://www.gojek.com/id-id/download/');
        });

        document.getElementById('openDanaBtn').addEventListener('click', function() {
            openApp('dana://', 'https://www.dana.id/');
        });

        document.getElementById('openOvoBtn').addEventListener('click', function() {
            openApp('ovo://', 'https://www.ovo.id/');
        });

        document.getElementById('openMandiriBtn').addEventListener('click', function() {
            // Using the URI scheme commonly associated with Livin' by Mandiri.
            // Note: URI schemes can vary and might change.
            // Other possible schemes if 'livinbybankmandiri://' doesn't work: 'livin://', 'mandiripay://'
            openApp('livinbybankmandiri://', 'https://www.bankmandiri.co.id/livin');
        });

        document.getElementById('openShopeeBtn').addEventListener('click', function() {
            openApp('shopee://', 'https://shopee.co.id/download');
        });
    </script>
</body>
</html>
